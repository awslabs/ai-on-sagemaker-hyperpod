"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[345],{1373:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/sagemaker-ui-start-74ffeb0ce0a8aa23d5ed4677854026e5.png"},3624:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/test-invoke-e6d7e5e4aa23c9ce0f2bfb5d09f01e87.png"},4220:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"eks-blueprints/inference/inference-operator/sagemaker-jumpstart","title":"SageMaker JumpStart","description":"Amazon SageMaker JumpStart provides pretrained, open-source models for a wide range of problem types to help you get started with machine learning. You can incrementally train and tune these models before deployment. JumpStart also provides solution templates that set up infrastructure for common use cases, and executable example notebooks for machine learning with SageMaker AI.","source":"@site/docs/01-eks-blueprints/inference/inference-operator/sagemaker-jumpstart.md","sourceDirName":"01-eks-blueprints/inference/inference-operator","slug":"/eks-blueprints/inference/inference-operator/sagemaker-jumpstart","permalink":"/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/inference-operator/sagemaker-jumpstart","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"SageMaker JumpStart","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Inference","permalink":"/ai-on-sagemaker-hyperpod/docs/category/inference"},"next":{"title":"Deploying model from S3 or FSX","permalink":"/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/inference-operator/amazon-s3-and-amazon-fsx"}}');var a=t(4848),r=t(8453);const i={title:"SageMaker JumpStart",sidebar_position:1},o="Deploy models from SageMaker JumpStart using SageMaker Studio UI",l={},d=[{value:"Deploy models from SageMaker JumpStart using kubectl",id:"deploy-models-from-sagemaker-jumpstart-using-kubectl",level:2},{value:"Invoking the model",id:"invoking-the-model",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"deploy-models-from-sagemaker-jumpstart-using-sagemaker-studio-ui",children:"Deploy models from SageMaker JumpStart using SageMaker Studio UI"})}),"\n",(0,a.jsx)(n.p,{children:"Amazon SageMaker JumpStart provides pretrained, open-source models for a wide range of problem types to help you get started with machine learning. You can incrementally train and tune these models before deployment. JumpStart also provides solution templates that set up infrastructure for common use cases, and executable example notebooks for machine learning with SageMaker AI."}),"\n",(0,a.jsx)(n.p,{children:"You can deploy, fine-tune, and evaluate pretrained models from popular models hubs through the JumpStart landing page"}),"\n",(0,a.jsx)(n.p,{children:"With the HyperPod Inference Operator, you can deploy over 400 open-weights foundation models from SageMaker JumpStart on HyperPod with just a click, including the latest state-of-the-art models like DeepSeek-R1, Mistral, and Llama4. SageMaker JumpStart models will be deployed on HyperPod clusters orchestrated by EKS and will be made available as SageMaker endpoints or Application Load Balancers (ALB)."}),"\n",(0,a.jsx)(n.p,{children:"SageMaker Studio allows you to deploy models from SageMaker JumpStart on HyperPod clusters interactively via the UI."}),"\n",(0,a.jsx)(n.p,{children:"From the SageMaker Studio UI, you can select JumpStart to open up the model selection."}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"SageMaker UI",src:t(1373).A+"",width:"2559",height:"1216"})})}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Model Selection",src:t(6256).A+"",width:"2560",height:"1216"})})}),"\n",(0,a.jsx)(n.p,{children:"Once a model is selected, click the 'Deploy' button to bring up the deployment options. In this case, we've selected Mistral Instruct v3."}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Mistral 7B Instruct",src:t(8130).A+"",width:"1418",height:"145"})})}),"\n",(0,a.jsx)(n.p,{children:"From here, you can configure your deployment configuration for HyperPod, including the name, instance type, hyperpod cluster, namespace and scaling."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["HyperPod cluster: ",(0,a.jsx)(n.code,{children:"Name of your cluster"})]}),"\n",(0,a.jsxs)(n.li,{children:["Instance type: example/ ",(0,a.jsx)(n.code,{children:"ml.g5.8xlarge"})]}),"\n",(0,a.jsxs)(n.li,{children:["Namespace: example/ ",(0,a.jsx)(n.code,{children:"default"})]}),"\n",(0,a.jsxs)(n.li,{children:["Priority class: example/ ",(0,a.jsx)(n.code,{children:"inference-priority"})," - This is created from the task governance cluster scheduler config"]}),"\n",(0,a.jsxs)(n.li,{children:["Autoscaling: This can be toggled to ",(0,a.jsx)(n.code,{children:"Enabled"}),", allowing pod-level autoscaling"]}),"\n"]}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Options",src:t(6579).A+"",width:"2285",height:"1034"})})}),"\n",(0,a.jsxs)(n.p,{children:["Please press ",(0,a.jsx)(n.code,{children:"Deploy"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"One can see the deployment pod initializing:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -n hyperpod-ns-team-a\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"NAME                                                 READY   STATUS            RESTARTS   AGE\nhyperpod-deployment-1X5X021XXXXX-7b7bxxxxxx-2XXX   0/3     PodInitializing   0   \n"})}),"\n",(0,a.jsxs)(n.p,{children:["If you go back to SageMaker Studio and on the left-hand side, select ",(0,a.jsx)(n.code,{children:"Deployments"})," and select ",(0,a.jsx)(n.code,{children:"Endpoints"}),". You can see the SageMaker endpoint to host your model being created."]}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Options",src:t(4445).A+"",width:"1632",height:"329"})})}),"\n",(0,a.jsx)(n.p,{children:"Once the deployment status is In service, you can test the deployment from the SageMaker Studio UI with JSON data."}),"\n",(0,a.jsxs)(n.p,{children:["Select your endpoint, and select the ",(0,a.jsx)(n.code,{children:"Test inference"})," tab."]}),"\n",(0,a.jsx)(n.p,{children:"Paste the following in the JSON body:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "inputs": "Hi, what can you help me with?"\n}\n'})}),"\n",(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Options",src:t(3624).A+"",width:"2026",height:"1125"})})}),"\n",(0,a.jsx)(n.h2,{id:"deploy-models-from-sagemaker-jumpstart-using-kubectl",children:"Deploy models from SageMaker JumpStart using kubectl"}),"\n",(0,a.jsx)(n.p,{children:"For example, to deploy Mistral Instruct v3 on your cluster, you can define a YAML file called model.yaml with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'apiVersion: inference.sagemaker.aws.amazon.com/v1alpha1\nkind: JumpStartModel\nmetadata:\n  name: mistral-jumpstart\n  namespace: default\nspec:\n  sageMakerEndpoint:\n    name: "mistral-endpoint"\n  model:\n    modelHubName: SageMakerPublicHub\n    modelId: huggingface-llm-mistral-7b-instruct-v3\n    modelVersion: "1.0.0"\n  server:\n    instanceType: ml.g5.8xlarge\n  metrics:\n    enabled: true\n  maxDeployTimeInSeconds: 1800\n  tlsConfig:\n    tlsCertificateOutputS3Uri: "s3://<BUCKET_NAME>" # you can use an existing bucket \n'})}),"\n",(0,a.jsx)(n.p,{children:"Then you can run"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    kubectl apply -f model.yaml\n"})}),"\n",(0,a.jsx)(n.p,{children:"From here, monitor the deployment using"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"    kubectl get jumpstartmodels\n"})}),"\n",(0,a.jsx)(n.h3,{id:"invoking-the-model",children:"Invoking the model"}),"\n",(0,a.jsx)(n.p,{children:'Once the model is deployed, you can invoke the SageMaker Endpoint that is created using the InvokeEndpoint API. In the YAML file, this is defined as "mistral-endpoint".'}),"\n",(0,a.jsx)(n.p,{children:"For example, using boto3, this would be:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"cat << EOF > invoke.py\nimport boto3\nimport json\n\nclient = boto3.client('sagemaker-runtime')\n\nresponse = client.invoke_endpoint(\n    EndpointName='mistral-endpoint',\n    ContentType='application/json',\n    Accept='application/json',\n    Body=json.dumps({\n    \t\"inputs\": \"Hi, what can you help me with?\"\n    })\n)\n\nprint(response['Body'].read().decode('utf-8'))\n"})}),"\n",(0,a.jsx)(n.p,{children:"Invoke the model using boto3:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"python3 invoke.py\n"})}),"\n",(0,a.jsx)(n.p,{children:"Output:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:'sagemaker-user@default:~/awsome-distributed-training/1.architectures/7.sagemaker-hyperpod-eks/task-governance$ python3 invoke.py\n[{"generated_text":"Hi, what can you help me with?\\n\\nWelcome! I\'m here to help you with a variety of topics. Here\'s a list of some things I can assist with:\\n\\n* Coding questions and problems\\n* Computer Science concepts and algorithms\\n* Technical interview questions and solutions\\n* Debugging code\\n* Learning resources\\n* Personalized study and practice plans\\n* Coding tips and best practices\\n* Project management for coding projects\\n* Tech news and trends\\n\\nIf you have a specific question or"}]\nsagemaker-user@default:~/awsome-distributed-training/1.architectures/7.sagemaker-hyperpod-eks/task-governance$ \n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},4445:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/deployments-fe12d3f648f97dbb0d554c525d14f611.png"},6256:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/jumpstart-model-selection-8e2de0bfc3d4876ae4b8d70e5aa5b1ec.png"},6579:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/options-02f52083d9291e422064259cc9ea5ffa.png"},8130:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/press-deploy-cea42b299690937682c6179a61c9d62a.png"},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);