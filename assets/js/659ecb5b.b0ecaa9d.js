"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[660],{1148:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"add-ons/hp-training-operator/installation-and-usage","title":"Installation and Usage Guide","description":"This guide covers the installation of the HyperPod training operator and provides examples for running distributed training jobs using examples from the awsome-distributed-training repository.","source":"@site/docs/04-add-ons/hp-training-operator/installation-and-usage.md","sourceDirName":"04-add-ons/hp-training-operator","slug":"/add-ons/hp-training-operator/installation-and-usage","permalink":"/docs/add-ons/hp-training-operator/installation-and-usage","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Installation and Usage Guide","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"HyperPod Training Operator Overview","permalink":"/docs/add-ons/hp-training-operator/overview"},"next":{"title":"Integrations","permalink":"/docs/category/integrations"}}');var i=t(4848),r=t(8453);const o={title:"Installation and Usage Guide",sidebar_position:2},l="HyperPod Training Operator Installation and Usage Guide",a={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation Methods",id:"installation-methods",level:2},{value:"SageMaker AI Console (Recommended)",id:"sagemaker-ai-console-recommended",level:3},{value:"Amazon EKS Console",id:"amazon-eks-console",level:3},{value:"AWS CLI",id:"aws-cli",level:3},{value:"Validate Installation",id:"validate-installation",level:3},{value:"Running Training Jobs",id:"running-training-jobs",level:2},{value:"1. Clone the awsome-distributed-training Repository",id:"1-clone-the-awsome-distributed-training-repository",level:3},{value:"2. Build and Push Docker Image",id:"2-build-and-push-docker-image",level:3},{value:"3. Job Submission Methods",id:"3-job-submission-methods",level:3},{value:"3a. Job Submission via kubectl",id:"3a-job-submission-via-kubectl",level:4},{value:"4. Monitor Training Jobs",id:"4-monitor-training-jobs",level:3},{value:"5. Testing Resiliency",id:"5-testing-resiliency",level:3},{value:"Log Monitoring Configuration Parameters",id:"log-monitoring-configuration-parameters",level:2},{value:"Advanced Configuration Examples",id:"advanced-configuration-examples",level:2},{value:"Testing Custom Log Monitoring",id:"testing-custom-log-monitoring",level:3},{value:"HyperPod Elastic Agent Arguments",id:"hyperpod-elastic-agent-arguments",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Installation Issues",id:"installation-issues",level:3},{value:"Job Execution Issues",id:"job-execution-issues",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"hyperpod-training-operator-installation-and-usage-guide",children:"HyperPod Training Operator Installation and Usage Guide"})}),"\n",(0,i.jsxs)(n.p,{children:["This guide covers the installation of the HyperPod training operator and provides examples for running distributed training jobs using examples from the ",(0,i.jsx)(n.a,{href:"https://github.com/aws-samples/awsome-distributed-training",children:"awsome-distributed-training repository"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(n.p,{children:"Before you use the HyperPod training operator, you must have completed the following prerequisites:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Created a ",(0,i.jsx)(n.a,{href:"https://docs.aws.amazon.com/sagemaker/latest/dg/sagemaker-hyperpod-eks-operate-console-ui-create-cluster.html",children:"HyperPod cluster with Amazon EKS orchestration"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Installed the latest AMI on your HyperPod cluster. For more information, see ",(0,i.jsx)(n.a,{href:"https://docs.aws.amazon.com/sagemaker/latest/dg/sagemaker-hyperpod-release-ami-eks.html",children:"SageMaker HyperPod AMI releases"})," for Amazon EKS."]}),"\n",(0,i.jsxs)(n.li,{children:["Installed ",(0,i.jsx)(n.a,{href:"https://cert-manager.io/docs/installation/",children:"cert-manager"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Set up the EKS Pod Identity Agent using the console. If you want to use the AWS CLI, use the following command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"aws eks create-addon \\\n--cluster-name my-eks-cluster \\\n--addon-name eks-pod-identity-agent \\\n--region AWS Region\n"})}),"\n",(0,i.jsx)(n.h2,{id:"installation-methods",children:"Installation Methods"}),"\n",(0,i.jsx)(n.p,{children:"You can install the HyperPod training operator through three methods:"}),"\n",(0,i.jsx)(n.h3,{id:"sagemaker-ai-console-recommended",children:"SageMaker AI Console (Recommended)"}),"\n",(0,i.jsx)(n.p,{children:"The SageMaker AI console provides a one-click installation that automatically:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Creates the IAM execution role"}),"\n",(0,i.jsx)(n.li,{children:"Creates the pod identity association"}),"\n",(0,i.jsx)(n.li,{children:"Installs the operator"}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Open the ",(0,i.jsx)(n.a,{href:"https://console.aws.amazon.com/sagemaker/",children:"Amazon SageMaker AI console"})]}),"\n",(0,i.jsx)(n.li,{children:"Go to your cluster's details page"}),"\n",(0,i.jsx)(n.li,{children:'On the Dashboard tab, locate "Amazon SageMaker HyperPod training operator"'}),"\n",(0,i.jsxs)(n.li,{children:["Choose ",(0,i.jsx)(n.strong,{children:"Install"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["During installation, SageMaker AI creates an IAM execution role with permissions similar to the ",(0,i.jsx)(n.code,{children:"AmazonSageMakerHyperPodTrainingOperatorAccess"})," managed policy."]}),"\n",(0,i.jsx)(n.h3,{id:"amazon-eks-console",children:"Amazon EKS Console"}),"\n",(0,i.jsx)(n.p,{children:"The EKS console installation is similar but doesn't automatically create the IAM execution role. You can choose to create a new role during the process with pre-populated information."}),"\n",(0,i.jsx)(n.h3,{id:"aws-cli",children:"AWS CLI"}),"\n",(0,i.jsx)(n.p,{children:"For programmatic installation with more customization options:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Set up EKS Pod Identity Agent\naws eks create-addon \\\n--cluster-name my-eks-cluster \\\n--addon-name eks-pod-identity-agent \\\n--region <AWS_REGION>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"validate-installation",children:"Validate Installation"}),"\n",(0,i.jsx)(n.p,{children:"Once installed, verify the HyperPod controller manager pod is running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -n aws-hyperpod\n"})}),"\n",(0,i.jsx)(n.p,{children:"Expected output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"NAME                                                              READY   STATUS    RESTARTS   AGE\nhealth-monitoring-agent-bj57k                                     1/1     Running   0          17d\nhealth-monitoring-agent-plcvm                                     1/1     Running   0          17d\nhp-training-operator-hp-training-controller-manager-775bdf47f2s   1/1     Running   0          2d21h\n"})}),"\n",(0,i.jsx)(n.h2,{id:"running-training-jobs",children:"Running Training Jobs"}),"\n",(0,i.jsxs)(n.p,{children:["This example demonstrates how to run a HyperPod PytorchJob using the same FSDP example from the ",(0,i.jsx)(n.a,{href:"https://github.com/aws-samples/awsome-distributed-training/tree/main/3.test_cases/pytorch/FSDP/kubernetes",children:"awsome-distributed-training repository"}),", but configured for the HyperPod Training Operator."]}),"\n",(0,i.jsx)(n.h3,{id:"1-clone-the-awsome-distributed-training-repository",children:"1. Clone the awsome-distributed-training Repository"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/aws-samples/awsome-distributed-training.git\ncd awsome-distributed-training/3.test_cases/pytorch/FSDP/kubernetes\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-build-and-push-docker-image",children:"2. Build and Push Docker Image"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'aws ecr-public get-login-password --region us-east-1 | docker login --username AWS --password-stdin public.ecr.aws\nexport AWS_REGION=$(aws ec2 describe-availability-zones --output text --query \'AvailabilityZones[0].[RegionName]\')\nexport ACCOUNT=$(aws sts get-caller-identity --query Account --output text)\nexport REGISTRY=${ACCOUNT}.dkr.ecr.${AWS_REGION}.amazonaws.com/\n\n# Build the container (note: this includes hyperpod-elastic-agent)\npushd ../\ndocker build -f Dockerfile ${DOCKER_NETWORK} -t ${REGISTRY}fsdp:pytorch2.7.1 .\npopd\n\n# Create registry if needed\nREGISTRY_COUNT=$(aws ecr describe-repositories | grep \\"fsdp\\" | wc -l)\nif [ "$REGISTRY_COUNT" == "0" ]; then\n    aws ecr create-repository --repository-name fsdp\nfi\n\n# Login and push\naws ecr get-login-password | docker login --username AWS --password-stdin $REGISTRY\ndocker image push ${REGISTRY}fsdp:pytorch2.7.1\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://github.com/aws-samples/awsome-distributed-training/blob/main/3.test_cases/pytorch/FSDP/Dockerfile",children:"Dockerfile"})," includes the HyperPod elastic agent installation:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dockerfile",children:"...\nRUN pip install hyperpod-elastic-agent\n...\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-job-submission-methods",children:"3. Job Submission Methods"}),"\n",(0,i.jsxs)(n.p,{children:["HyperPod PytorchJobs can be submitted via ",(0,i.jsx)(n.code,{children:"kubectl"})," with a YAML manifest or via the ",(0,i.jsx)(n.a,{href:"https://github.com/aws/sagemaker-hyperpod-cli",children:"HyperPod CLI v3"}),"."]}),"\n",(0,i.jsx)(n.h4,{id:"3a-job-submission-via-kubectl",children:"3a. Job Submission via kubectl"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://github.com/aws-samples/awsome-distributed-training/blob/main/3.test_cases/pytorch/FSDP/kubernetes/llama3_1_8b-fsdp-hpto.yaml",children:"llama3_1_8b-fsdp-hpto.yaml"})," file defines a HyperPod PytorchJob with robust error handling:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key Features:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JobStart"}),': Fails if no "Loss:" appears in logs within first 4 minutes (240s)']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"JobHangingDetection"}),': Fails if gap between "Loss:" logs exceeds 10 minutes (600s)']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Retry Policy"}),": 3 process restarts before full job restart, maximum 10 total retries"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"For auto-resume from checkpoint"}),", add FSx for Lustre volumes and modify checkpoint paths:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"volumes:\n  - name: fsx-storage\n    persistentVolumeClaim:\n      claimName: fsx-claim\n\nvolumeMounts:\n  - name: fsx-storage\n    mountPath: /fsx\n\n# Update command args:\n- '--checkpoint_dir=/fsx/checkpoints'\n- '--resume_from_checkpoint=/fsx/checkpoints'\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Submit the job:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"envsubst < llama3_1_8b-fsdp-hpto.yaml | kubectl apply -f -\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-monitor-training-jobs",children:"4. Monitor Training Jobs"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Install kubetail for log monitoring:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -sL https://raw.githubusercontent.com/aws-samples/aws-do-eks/refs/heads/main/Container-Root/eks/ops/setup/install-kubetail.sh | sudo bash\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"View logs:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubetail llama3\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Describe the HyperPodPytorchJob:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl describe hyperpodpytorchjob llama3-1-8b-fsdp\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-testing-resiliency",children:"5. Testing Resiliency"}),"\n",(0,i.jsx)(n.p,{children:"Emulate an instance failure to test the operator's recovery capabilities:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export NODE=$(kubectl get nodes | awk 'NR>1 {print $1}' | shuf -n 1)\nkubectl label node $NODE \\\n  sagemaker.amazonaws.com/node-health-status=UnschedulablePendingReboot \\\n  --overwrite=true\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check the job status:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl describe hyperpodpytorchjob\n"})}),"\n",(0,i.jsx)(n.p,{children:"Expected output showing fault remediation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Status:\n  Conditions:\n    Last Transition Time:  2025-08-04T22:06:18Z\n    Status:                True\n    Type:                  Created\n    Last Transition Time:  2025-08-04T22:08:37Z\n    Status:                True\n    Type:                  PodsRunning\n    Last Transition Time:  2025-08-04T22:08:44Z\n    Message:               The fault of reason NodeFault was remediated in 94283 milliseconds.\n    Reason:                Running\n    Status:                True\n    Type:                  Running\n  Restart Count:           1\nEvents:\n  Type     Reason     Age    From                             Message\n  ----     ------     ----   ----                             -------\n  Warning  NodeFault  117s   hyperpod-pytorch-job-controller  Found unhealthy node hyperpod-i-03d315d8cef22bd25\n  Normal   Running    23s    hyperpod-pytorch-job-controller  The fault of reason NodeFault was remediated in 94283 milliseconds.\n"})}),"\n",(0,i.jsx)(n.h2,{id:"log-monitoring-configuration-parameters",children:"Log Monitoring Configuration Parameters"}),"\n",(0,i.jsx)(n.p,{children:"The following table describes all possible log monitoring configurations:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Parameter"}),(0,i.jsx)(n.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"jobMaxRetryCount"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Maximum number of restarts at the process level"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"restartPolicy: numRestartBeforeFullJobRestart"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Maximum number of restarts at the process level before the operator restarts at the job level"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"restartPolicy: evalPeriodSeconds"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"The period of evaluating the restart limit in seconds"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"restartPolicy: maxFullJobRestarts"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Maximum number of full job restarts before the job fails"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"cleanPodPolicy"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Specifies the pods that the operator should clean. Accepted values are All, OnlyComplete, and None"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"logMonitoringConfiguration"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"The log monitoring rules for slow and hanging job detection"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"expectedRecurringFrequencyInSeconds"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Time interval between two consecutive LogPattern matches after which the rule evaluates to HANGING"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"expectedStartCutOffInSeconds"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Time to first LogPattern match after which the rule evaluates to HANGING"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"logPattern"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Regular expression that identifies log lines that the rule applies to when the rule is active"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"metricEvaluationDataPoints"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Number of consecutive times a rule must evaluate to SLOW before marking a job as SLOW"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"metricThreshold"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Threshold for value extracted by LogPattern with a capturing group"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"operator"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"The inequality to apply to the monitoring configuration. Accepted values are gt, gteq, lt, lteq, and eq"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"left"},children:(0,i.jsx)(n.code,{children:"stopPattern"})}),(0,i.jsx)(n.td,{style:{textAlign:"left"},children:"Regular expression to identify the log line at which to deactivate the rule"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"advanced-configuration-examples",children:"Advanced Configuration Examples"}),"\n",(0,i.jsx)(n.h3,{id:"testing-custom-log-monitoring",children:"Testing Custom Log Monitoring"}),"\n",(0,i.jsxs)(n.p,{children:["To test custom log monitoring configurations, modify your job's ",(0,i.jsx)(n.code,{children:"logMonitoringConfiguration"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"logMonitoringConfiguration:\n  - name: JobStart\n    logPattern: '.*Loss:.*'\n    expectedStartCutOffInSeconds: 1  # Change from 240 to 1 for testing\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This will trigger a ",(0,i.jsx)(n.code,{children:"LogStateHanging_JobStart"})," error if training doesn't start within 1 second, allowing you to test the monitoring system."]}),"\n",(0,i.jsx)(n.h3,{id:"hyperpod-elastic-agent-arguments",children:"HyperPod Elastic Agent Arguments"}),"\n",(0,i.jsx)(n.p,{children:"The HyperPod elastic agent supports all PyTorch ElasticAgent arguments plus additional ones:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--shutdown-signal"})}),(0,i.jsx)(n.td,{children:"Signal to send to workers for shutdown"}),(0,i.jsx)(n.td,{children:'"SIGKILL"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--shutdown-timeout"})}),(0,i.jsx)(n.td,{children:"Timeout between SIGTERM and SIGKILL"}),(0,i.jsx)(n.td,{children:"30"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--server-host"})}),(0,i.jsx)(n.td,{children:"Agent server address"}),(0,i.jsx)(n.td,{children:'"0.0.0.0"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--server-port"})}),(0,i.jsx)(n.td,{children:"Agent server port"}),(0,i.jsx)(n.td,{children:"8080"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--server-log-level"})}),(0,i.jsx)(n.td,{children:"Agent server log level"}),(0,i.jsx)(n.td,{children:'"info"'})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--server-shutdown-timeout"})}),(0,i.jsx)(n.td,{children:"Server shutdown timeout"}),(0,i.jsx)(n.td,{children:"300"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--pre-train-script"})}),(0,i.jsx)(n.td,{children:"Path to pre-training script"}),(0,i.jsx)(n.td,{children:"None"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--pre-train-args"})}),(0,i.jsx)(n.td,{children:"Arguments for pre-training script"}),(0,i.jsx)(n.td,{children:"None"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--post-train-script"})}),(0,i.jsx)(n.td,{children:"Path to post-training script"}),(0,i.jsx)(n.td,{children:"None"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--post-train-args"})}),(0,i.jsx)(n.td,{children:"Arguments for post-training script"}),(0,i.jsx)(n.td,{children:"None"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsx)(n.h3,{id:"installation-issues",children:"Installation Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Incompatible HyperPod AMI"}),": Update to the latest version using the UpdateClusterSoftware API."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Incompatible Task Governance Version"}),": Ensure HyperPod task governance is version v1.3.0-eksbuild.1 or higher."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Missing Permissions"}),": Verify IAM permissions are correctly set up for the EKS Pod Identity Agent."]}),"\n",(0,i.jsx)(n.h3,{id:"job-execution-issues",children:"Job Execution Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Jobs Not Starting"}),": Check that the HyperPod elastic agent is properly installed in your training image."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Monitoring Not Working"}),": Ensure training logs are emitted to ",(0,i.jsx)(n.code,{children:"sys.stdout"})," and saved at ",(0,i.jsx)(n.code,{children:"/tmp/hyperpod/"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The key advantage of the HyperPod Training Operator is that jobs are restarted at the process level within container pods, rather than affecting all pods. This provides surgical recovery that keeps training running smoothly with minimal disruption."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);