<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-eks-blueprints/inference/ray-service/ray-service-readme" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Serving Stable Diffusion Model for Inference with Ray Serve | AI on SageMaker HyperPod</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://awslabs.github.io/ai-on-sagemaker-hyperpod/img/header_background.png"><meta data-rh="true" name="twitter:image" content="https://awslabs.github.io/ai-on-sagemaker-hyperpod/img/header_background.png"><meta data-rh="true" property="og:url" content="https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="machine learning, generative ai, genai, sagemaker, hyperpod, SageMaker HyperPod,         model training, model inference, nemo framework, pytorch, pytorch framework"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Serving Stable Diffusion Model for Inference with Ray Serve | AI on SageMaker HyperPod"><meta data-rh="true" name="description" content="Ray Serve is a scalable model serving library for building online inference APIs. Serve is framework-agnostic, so you can use a single toolkit to serve everything from deep learning models built with frameworks like PyTorch, TensorFlow, and Keras, to Scikit-Learn models, to arbitrary Python business logic."><meta data-rh="true" property="og:description" content="Ray Serve is a scalable model serving library for building online inference APIs. Serve is framework-agnostic, so you can use a single toolkit to serve everything from deep learning models built with frameworks like PyTorch, TensorFlow, and Keras, to Scikit-Learn models, to arbitrary Python business logic."><link data-rh="true" rel="icon" href="/ai-on-sagemaker-hyperpod/img/Amazon-Sagemaker-Icon.jpg"><link data-rh="true" rel="canonical" href="https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme" hreflang="en"><link data-rh="true" rel="alternate" href="https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"EKS Blueprints","item":"https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/category/eks-blueprints"},{"@type":"ListItem","position":2,"name":"Inference","item":"https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/category/inference"},{"@type":"ListItem","position":3,"name":"Serving Stable Diffusion Model for Inference with Ray Serve","item":"https://awslabs.github.io/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme"}]}</script><link rel="alternate" type="application/rss+xml" href="/ai-on-sagemaker-hyperpod/blog/rss.xml" title="AI on SageMaker HyperPod RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ai-on-sagemaker-hyperpod/blog/atom.xml" title="AI on SageMaker HyperPod Atom Feed"><link rel="stylesheet" href="/ai-on-sagemaker-hyperpod/assets/css/styles.4f331a72.css">
<script src="/ai-on-sagemaker-hyperpod/assets/js/runtime~main.0ad2ba88.js" defer="defer"></script>
<script src="/ai-on-sagemaker-hyperpod/assets/js/main.31186e7d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ai-on-sagemaker-hyperpod/img/Amazon-Sagemaker-Icon.jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ai-on-sagemaker-hyperpod/"><div class="navbar__logo"><img src="/ai-on-sagemaker-hyperpod/img/Amazon-Sagemaker-Icon.jpg" alt="AI on SageMaker HyperPod" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ai-on-sagemaker-hyperpod/img/Amazon-Sagemaker-Icon.jpg" alt="AI on SageMaker HyperPod" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AI on SageMaker HyperPod</b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Orchestrated by EKS</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/getting-started/orchestrated-by-eks/initial-cluster-setup">Initial cluster setup</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/trainium/aws-trainium">AWS Trainium</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/ddp/distributed-data-parallel">Distributed Data Parallel</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/fsdp/fully-sharded-data-parallel">Fully Sharded Data Parallel</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/megatron-lm/megatron-lm-readme">NVIDIA Megatron LM</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/ray-train/ray-train-readme">Ray Train</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Orchestrated by SLURM</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/getting-started/orchestrated-by-slurm/initial-cluster-setup">Initial cluster setup</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/slurm-blueprints/training/trainium/Llama3-70B">AWS Trainium</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/slurm-blueprints/training/ddp/distributed-data-parallel">Distributed Data Parallel</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/slurm-blueprints/training/fsdp/fully-sharded-data-parallel">Fully Sharded Data Parallel</a></li><li><a class="dropdown__link" href="/ai-on-sagemaker-hyperpod/docs/slurm-blueprints/training/megatron-lm/megatron-lm-readme">NVIDIA Megatron LM</a></li></ul></div><a class="navbar__item navbar__link" href="/ai-on-sagemaker-hyperpod/resources">Useful links</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/awslabs/ai-on-sagemaker-hyperpod" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ai-on-sagemaker-hyperpod/docs/Introduction">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/getting-started">Getting Started</a><button aria-label="Expand sidebar category &#x27;Getting Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ai-on-sagemaker-hyperpod/docs/category/eks-blueprints">EKS Blueprints</a><button aria-label="Collapse sidebar category &#x27;EKS Blueprints&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/category/training">Training</a><button aria-label="Expand sidebar category &#x27;Training&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/category/fine-tuning">Fine Tuning</a><button aria-label="Expand sidebar category &#x27;Fine Tuning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/category/inference">Inference</a><button aria-label="Collapse sidebar category &#x27;Inference&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/inference-operator/sagemaker-jumpstart">Inference Operator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/load-balancer-inference/inference-with-loadbalancer">Load Balancer Inference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme">Ray Service</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/ray-service/ray-service-readme">Serving Stable Diffusion Model for Inference with Ray Serve</a></li></ul></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/slurm-blueprints">SLURM Blueprints</a><button aria-label="Expand sidebar category &#x27;SLURM Blueprints&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/sagemaker-hyperpod-recipes">Sagemaker Hyperpod Recipes</a><button aria-label="Expand sidebar category &#x27;Sagemaker Hyperpod Recipes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/add-ons">Add-Ons</a><button aria-label="Expand sidebar category &#x27;Add-Ons&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/validation-and-testing">Validation and Testing</a><button aria-label="Expand sidebar category &#x27;Validation and Testing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/infrastructure-as-a-code">Infrastructure as a Code</a><button aria-label="Expand sidebar category &#x27;Infrastructure as a Code&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/ai-on-sagemaker-hyperpod/docs/category/tips">Tips</a><button aria-label="Expand sidebar category &#x27;Tips&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ai-on-sagemaker-hyperpod/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-sagemaker-hyperpod/docs/category/eks-blueprints"><span>EKS Blueprints</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/ai-on-sagemaker-hyperpod/docs/category/inference"><span>Inference</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Ray Service</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Serving Stable Diffusion Model for Inference with Ray Serve</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Serving Stable Diffusion Model for Inference with Ray Serve</h1></header>
<p><a href="https://docs.ray.io/en/latest/serve/index.html" target="_blank" rel="noopener noreferrer">Ray Serve</a> is a scalable model serving library for building online inference APIs. Serve is framework-agnostic, so you can use a single toolkit to serve everything from deep learning models built with frameworks like PyTorch, TensorFlow, and Keras, to Scikit-Learn models, to arbitrary Python business logic.</p>
<p>A Ray Serve manages these components:</p>
<ul>
<li><strong>RayCluster</strong>: Manages resources in a Kubernetes cluster</li>
<li><strong>Ray Serve Applications</strong>: Manages users&#x27; applications</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Before proceeding, ensure you have:</p>
<ul>
<li>A functional HyperPod EKS cluster with GPU nodes</li>
<li>Ray cluster deployed (see <a href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/training/ray-train/ray-train-readme">Ray Train documentation</a>)</li>
<li>Access to the aws-do-ray repository</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-create-a-rayservice">1. Create a RayService<a href="#1-create-a-rayservice" class="hash-link" aria-label="Direct link to 1. Create a RayService" title="Direct link to 1. Create a RayService">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-download-required-code">1.1 Download Required Code<a href="#11-download-required-code" class="hash-link" aria-label="Direct link to 1.1 Download Required Code" title="Direct link to 1.1 Download Required Code">​</a></h3>
<p>Ensure you have aws-do-ray downloaded:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">git</span><span class="token plain"> clone https://github.com/aws-samples/aws-do-ray.git</span><br></span></code></pre></div></div>
<p>Navigate to the Ray service directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> aws-do-ray/Container-Root/ray/rayservice/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><br></span></code></pre></div></div>
<p>As you can see, there are multiple models we can serve for inference. For this workshop we will be deploying the <a href="https://docs.ray.io/en/latest/serve/tutorials/stable-diffusion.html" target="_blank" rel="noopener noreferrer">Stable Diffusion</a> model.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-explore-stable-diffusion-gpu-files">1.2 Explore Stable Diffusion GPU Files<a href="#12-explore-stable-diffusion-gpu-files" class="hash-link" aria-label="Direct link to 1.2 Explore Stable Diffusion GPU Files" title="Direct link to 1.2 Explore Stable Diffusion GPU Files">​</a></h3>
<p>Navigate to the Stable Diffusion GPU directory:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> stable_diffusion_gpu</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-alh</span><br></span></code></pre></div></div>
<p>In here we have 3 files:</p>
<ol>
<li><strong><code>rayservice.stable_diffusion_gpu.yaml</code></strong>: Ray Service YAML configuration</li>
</ol>
<p>Here is more information regarding the configuration for Ray Serve applications in the YAML. More details <a href="https://docs.ray.io/en/latest/serve/production-guide/kubernetes.html" target="_blank" rel="noopener noreferrer">here</a>:</p>
<ul>
<li><strong>applications</strong>: A list of applications to be deployed</li>
<li><strong>name</strong>: The name of the application, in this case, <code>stable-diffusion-gpu</code></li>
<li><strong>import_path</strong>: The import path for the application&#x27;s module, <code>stable_diffusion_gpu:entrypoint</code></li>
<li><strong>route_prefix</strong>: The route prefix for accessing the application</li>
<li><strong>runtime_env</strong>: Specifies the runtime environment for the application</li>
<li><strong>working_dir</strong>: The working directory for the application, must point to a zip file locally or through a URI</li>
<li><strong>pip</strong>: A list of Python packages to be installed in the runtime environment</li>
<li><strong>deployments</strong>: A list of deployments for the application</li>
<li><strong>name</strong>: The name of the deployment, <code>stable-diffusion-gpu</code></li>
<li><strong>num_replicas</strong>: The number of replicas for the deployment, set to 1</li>
<li><strong>ray_actor_options</strong>: Options for the Ray actors</li>
<li><strong>num_gpus</strong>: The number of GPUs allocated for each actor, set to 1</li>
</ul>
<ol start="2">
<li><strong><code>stable_diffusion_gpu.py</code></strong>: Python code for processing stable diffusion requests</li>
</ol>
<ul>
<li><strong>Scalable Deployment</strong>: Ray Serve dynamically scales the APIIngress and StableDiffusionV2 components based on traffic, managing resources efficiently by adjusting the number of replicas</li>
<li><strong>Asynchronous Execution</strong>: Using <code>.remote()</code>, Ray handles multiple requests concurrently, distributing tasks across the cluster for responsive API performance</li>
<li><strong>GPU Resource Management</strong>: Ray ensures each model replica has a dedicated GPU and optimizes performance through mixed-precision, making inference faster and memory-efficient</li>
</ul>
<ol start="3">
<li><strong><code>stable_diffusion_req.py</code></strong>: Python code to send stable diffusion requests</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-deploy-the-rayservice">1.3 Deploy the RayService<a href="#13-deploy-the-rayservice" class="hash-link" aria-label="Direct link to 1.3 Deploy the RayService" title="Direct link to 1.3 Deploy the RayService">​</a></h3>
<p>To create a Ray Service deployment, run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> rayservice.stable_diffusion_gpu.yaml</span><br></span></code></pre></div></div>
<p>As our cluster is deploying, we will wait for the RayService Kubernetes service, which is created after the Serve applications are ready and running. This process may take approximately 1 minute after all pods in the RayCluster are running.</p>
<p>To check pods:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get pods</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-access-ray-dashboard-optional">2. Access Ray Dashboard (Optional)<a href="#2-access-ray-dashboard-optional" class="hash-link" aria-label="Direct link to 2. Access Ray Dashboard (Optional)" title="Direct link to 2. Access Ray Dashboard (Optional)">​</a></h2>
<p>We will provide two ways through which the Ray dashboard can be accessed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-a-port-forward-locally">Option A: Port-forward Locally<a href="#option-a-port-forward-locally" class="hash-link" aria-label="Direct link to Option A: Port-forward Locally" title="Direct link to Option A: Port-forward Locally">​</a></h3>
<p><strong>Open a new bash shell</strong> by using the <code>+</code> button in the upper-right corner of your terminal, then execute the following command block to display the dashboard using a terminal-based browser:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl port-forward svc/</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">kubectl get svc </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">grep</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> stable-diffusion-gpu-raycluster </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">grep</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">head</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">cut</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27; &#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">1</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"> </span><span class="token number">8265</span><span class="token plain"> </span><span class="token operator">&amp;</span><br></span></code></pre></div></div>
<p>You can now access the dashboard locally at <code>https://localhost:8265</code> or, if you are using SageMaker Studio which won&#x27;t allow you to access these ports locally, you can use <a href="https://github.com/fathyb/carbonyl" target="_blank" rel="noopener noreferrer"><code>fathyb/carbonyl</code></a> image which will transform your terminal into a browser:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">docker</span><span class="token plain"> run </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$DOCKER_NETWORK</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-it</span><span class="token plain"> fathyb/carbonyl http://localhost:8265</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Terminal-based Ray Dashboard" src="/ai-on-sagemaker-hyperpod/assets/images/serve-dashboard-tui-484cbba945741762833df04185234cc6.png" width="1774" height="950" class="img_ev3q"></p>
<p>To exit the browser, just close the shell window.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If you are having issues port-forwarding, please run: <code>pkill -f &quot;kubectl port-forward&quot;</code>, then retry.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="option-b-deploy-load-balancer">Option B: Deploy Load Balancer<a href="#option-b-deploy-load-balancer" class="hash-link" aria-label="Direct link to Option B: Deploy Load Balancer" title="Direct link to Option B: Deploy Load Balancer">​</a></h3>
<p>Before we can use an ingress object, we must deploy the Load Balancer Controller to the cluster. Please follow the instructions in the <a href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/load-balancer-inference/inference-with-loadbalancer">Load Balancer Inference section</a>, then return here to create the ingress object.</p>
<ol>
<li>
<p><strong>Follow load balancer setup steps</strong> from the Load Balancer Controller documentation</p>
</li>
<li>
<p><strong>Create an Ingress template</strong>:</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Retrieves name of head pod service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">HEAD_SERVICE</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">kubectl get </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">service</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> --all-namespaces </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-o</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">jsonpath</span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">=</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27;{range .items[*]}{.metadata.name}{&quot;\n&quot;}{end}&#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">grep</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;raycluster&quot;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">PUBLIC_SUBNETS</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">aws ec2 describe-subnets </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--filters</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&quot;[ {</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">Name</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">:</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">vpc-id</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">,</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">Values</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">:[</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string variable" style="color:rgb(189, 147, 249);font-style:italic">${VPC_ID}</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">]}, {</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">Name</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">:</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">map-public-ip-on-launch</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">,</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">Values</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">:[</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">true</span><span class="token variable string entity" style="color:rgb(255, 121, 198);font-style:italic">\&quot;</span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">]} ]&quot;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--query</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27;Subnets[*].{SubnetId:SubnetId}&#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--output</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> text</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SUBNET1</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">echo</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> $PUBLIC_SUBNETS </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">cut</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27; &#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">1</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">SUBNET2</span><span class="token operator">=</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$(</span><span class="token variable builtin class-name" style="color:rgb(189, 147, 249);font-style:italic">echo</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> $PUBLIC_SUBNETS </span><span class="token variable operator" style="color:rgb(189, 147, 249);font-style:italic">|</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable function" style="color:rgb(80, 250, 123);font-style:italic">cut</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable string" style="color:rgb(255, 121, 198);font-style:italic">&#x27; &#x27;</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic"> </span><span class="token variable number" style="color:rgb(189, 147, 249);font-style:italic">2</span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cat</span><span class="token plain"> </span><span class="token operator">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;EOF&#x27;</span><span class="token string bash punctuation" style="color:rgb(248, 248, 242)"> </span><span class="token string bash punctuation operator" style="color:rgb(248, 248, 242)">&gt;</span><span class="token string bash punctuation" style="color:rgb(248, 248, 242)"> ray-dashboard.yaml</span><span class="token string" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">apiVersion: networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">kind: Ingress</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">metadata:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  name: ray-cluster-ingress</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  annotations:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # WARNING: Do not expose this ALB publicly without additional authentication/authorization.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # The Ray Dashboard provides read and write access to the cluster. Anyone with access to the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # ALB can launch arbitrary code execution on the Ray Cluster.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    alb.ingress.kubernetes.io/scheme: internet-facing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # See ingress.md for more details about how to choose subnets.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    alb.ingress.kubernetes.io/subnets: ${SUBNET1}, ${SUBNET2}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    alb.ingress.kubernetes.io/target-type: ip</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # Restrict access to your IP address only (replace with your actual IP)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    # alb.ingress.kubernetes.io/inbound-cidrs: YOUR_IP_ADDRESS/32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">spec:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  ingressClassName: alb</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">  rules:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">    - http:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">        paths:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">          - path: /</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            pathType: Prefix</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">            backend:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">              service:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                name: ${HEAD_SERVICE} # Your head pod service</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                port:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">                  number: 8265</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token string" style="color:rgb(255, 121, 198)">EOF</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>For security reasons, it&#x27;s recommended to uncomment <code>alb.ingress.kubernetes.io/inbound-cidrs: YOUR_IP_ADDRESS/32</code> and replace <code>YOUR_IP_ADDRESS</code> with your IP to limit traffic to only allow for your IP.</p></div></div>
<ol start="3">
<li><strong>Generate and apply the Ingress manifest</strong>:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">envsubst </span><span class="token operator">&lt;</span><span class="token plain"> ray-dashboard.yaml </span><span class="token operator">|</span><span class="token plain"> kubectl apply </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> -</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get ingress</span><br></span></code></pre></div></div>
<p>It takes about 6 minutes for the load balancer to be created and become active. Then you can paste the address you find on the ingress into your local browser to access the Ray dashboard.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">NAME CLASS HOSTS ADDRESS PORTS AGE</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ray-cluster-ingress alb * k8s-default-rayclust-14ceb20792-1681229536.us-west-2.elb.amazonaws.com 80 5m52s</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Ray Dashboard" src="/ai-on-sagemaker-hyperpod/assets/images/dashboard-cd5cb6ac407349ca796f6465597b3758.png" width="862" height="456" class="img_ev3q"></p>
<p>Please visit the <code>Serve</code> Tab to see your application:</p>
<p><img decoding="async" loading="lazy" alt="Ray Serve Dashboard" src="/ai-on-sagemaker-hyperpod/assets/images/serve-dashboard-68145b7863d632f4dd5ecf813d82480b.png" width="1848" height="995" class="img_ev3q"></p>
<p>To clean up the load balancer, remove the Ingress object:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete ingress ray-cluster-ingress</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-inference">3. Inference<a href="#3-inference" class="hash-link" aria-label="Direct link to 3. Inference" title="Direct link to 3. Inference">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-set-up-port-forwarding">3.1 Set Up Port Forwarding<a href="#31-set-up-port-forwarding" class="hash-link" aria-label="Direct link to 3.1 Set Up Port Forwarding" title="Direct link to 3.1 Set Up Port Forwarding">​</a></h3>
<p>To check for the Kubernetes service:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get services</span><br></span></code></pre></div></div>
<p>When you see the service <code>stable-diffusion-gpu-serve-svc</code>, we can now forward the port for Stable Diffusion query:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl port-forward svc/stable-diffusion-gpu-serve-svc </span><span class="token number">8000</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> /dev/null </span><span class="token operator file-descriptor important">2</span><span class="token operator">&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token plain"> </span><span class="token operator">&amp;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="32-send-inference-request">3.2 Send Inference Request<a href="#32-send-inference-request" class="hash-link" aria-label="Direct link to 3.2 Send Inference Request" title="Direct link to 3.2 Send Inference Request">​</a></h3>
<p>Now let&#x27;s send a query request.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If you&#x27;d like to change the prompt request, please enter <code>vi stable_diffusion_gpu/stable_diffusion_gpu_req.py</code> and change the variable <code>prompt</code> to your request.</p></div></div>
<p>To send query request, please run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">python3 stable_diffusion_gpu_req.py</span><br></span></code></pre></div></div>
<p>On GPU, a new image is created within 10 seconds (compared to about 5 minutes on CPU).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="33-view-generated-images">3.3 View Generated Images<a href="#33-view-generated-images" class="hash-link" aria-label="Direct link to 3.3 View Generated Images" title="Direct link to 3.3 View Generated Images">​</a></h3>
<p>Now we have a few options to view the image:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-1-viu-tool-terminal-viewer">Option 1: VIU Tool (Terminal Viewer)<a href="#option-1-viu-tool-terminal-viewer" class="hash-link" aria-label="Direct link to Option 1: VIU Tool (Terminal Viewer)" title="Direct link to Option 1: VIU Tool (Terminal Viewer)">​</a></h4>
<p>A fun way to view the image output, we can use the <a href="https://github.com/atanunq/viu" target="_blank" rel="noopener noreferrer">VIU tool</a>.</p>
<p>To download the tool, please run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Download Rust</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--proto</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;=https&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--tlsv1.2</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-sSf</span><span class="token plain"> https://sh.rustup.rs </span><span class="token operator">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Download VIU</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">cargo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> viu</span><br></span></code></pre></div></div>
<p>To quickly view a low-resolution version of the image, please run:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">viu output.png</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="VIU Image Viewer" src="/ai-on-sagemaker-hyperpod/assets/images/viu-image-51eb2300eaa78c887448c53e9af5af3b.png" width="664" height="632" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="option-2-sagemaker-code-editor">Option 2: SageMaker Code Editor<a href="#option-2-sagemaker-code-editor" class="hash-link" aria-label="Direct link to Option 2: SageMaker Code Editor" title="Direct link to Option 2: SageMaker Code Editor">​</a></h4>
<p>If you are using SageMaker Code Editor, we can view the image directly in code editor.</p>
<p>Please use the Code editor explorer to navigate to <code>output.png</code> and open the image.</p>
<p><img decoding="async" loading="lazy" alt="Open File in Code Editor" src="/ai-on-sagemaker-hyperpod/assets/images/open-file-da21c8b00df91abb247663311bf7fd94.png" width="1774" height="951" class="img_ev3q"></p>
<p>The following prompt was used to generate this image: <code>&quot;cat wearing a fancy hat on a purple mat&quot;</code>.</p>
<p>If you&#x27;d like to download the image to your desktop, you can right-click the file <code>output.png</code> in the Code Editor File Explorer and select &quot;Download...&quot;.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-cleanup">4. Cleanup<a href="#4-cleanup" class="hash-link" aria-label="Direct link to 4. Cleanup" title="Direct link to 4. Cleanup">​</a></h2>
<p>To clean up the Ray Service deployment:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-f</span><span class="token plain"> rayservice.stable_diffusion_gpu.yaml</span><br></span></code></pre></div></div>
<p>To verify cleanup:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get pods</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get services</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">​</a></h2>
<p>That was our inference example using Ray Service! You can:</p>
<ul>
<li><strong>Try other prompts</strong>: Experiment with different text prompts for image generation</li>
<li><strong>Explore other models</strong>: Check out other inference examples available within the rayservice directory</li>
<li><strong>Scale the service</strong>: Modify the <code>num_replicas</code> in the YAML to handle more concurrent requests</li>
<li><strong>Monitor performance</strong>: Use the Ray dashboard to monitor GPU utilization and request latency</li>
<li><strong>Add authentication</strong>: Implement proper authentication for production deployments</li>
</ul>
<p>For more advanced Ray Serve configurations, refer to the <a href="https://docs.ray.io/en/latest/serve/index.html" target="_blank" rel="noopener noreferrer">Ray Serve documentation</a>.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ai-on-sagemaker-hyperpod/docs/eks-blueprints/inference/load-balancer-inference/inference-with-loadbalancer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Mistral 7B with Load Balancer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ai-on-sagemaker-hyperpod/docs/category/slurm-blueprints"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SLURM Blueprints</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#1-create-a-rayservice" class="table-of-contents__link toc-highlight">1. Create a RayService</a><ul><li><a href="#11-download-required-code" class="table-of-contents__link toc-highlight">1.1 Download Required Code</a></li><li><a href="#12-explore-stable-diffusion-gpu-files" class="table-of-contents__link toc-highlight">1.2 Explore Stable Diffusion GPU Files</a></li><li><a href="#13-deploy-the-rayservice" class="table-of-contents__link toc-highlight">1.3 Deploy the RayService</a></li></ul></li><li><a href="#2-access-ray-dashboard-optional" class="table-of-contents__link toc-highlight">2. Access Ray Dashboard (Optional)</a><ul><li><a href="#option-a-port-forward-locally" class="table-of-contents__link toc-highlight">Option A: Port-forward Locally</a></li><li><a href="#option-b-deploy-load-balancer" class="table-of-contents__link toc-highlight">Option B: Deploy Load Balancer</a></li></ul></li><li><a href="#3-inference" class="table-of-contents__link toc-highlight">3. Inference</a><ul><li><a href="#31-set-up-port-forwarding" class="table-of-contents__link toc-highlight">3.1 Set Up Port Forwarding</a></li><li><a href="#32-send-inference-request" class="table-of-contents__link toc-highlight">3.2 Send Inference Request</a></li><li><a href="#33-view-generated-images" class="table-of-contents__link toc-highlight">3.3 View Generated Images</a></li></ul></li><li><a href="#4-cleanup" class="table-of-contents__link toc-highlight">4. Cleanup</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s Next?</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ai-on-sagemaker-hyperpod/docs/getting-started/orchestrated-by-eks/initial-cluster-setup">Orchestrated by EKS</a></li><li class="footer__item"><a class="footer__link-item" href="/ai-on-sagemaker-hyperpod/docs/getting-started/orchestrated-by-slurm/initial-cluster-setup">Orchestrated by SLURM</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Sites with Sagemaker AI content</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/aws-samples/awsome-distributed-training" target="_blank" rel="noopener noreferrer" class="footer__link-item">Awsome Distributed Training<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/aws/sagemaker-hyperpod-recipes" target="_blank" rel="noopener noreferrer" class="footer__link-item">SageMaker HyperPod Recipes<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other AWS related sites</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aws.training" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS Training &amp; Certification<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://aws.amazon.com/sagemaker/ai/hyperpod" target="_blank" rel="noopener noreferrer" class="footer__link-item">Amazon SageMaker HyperPod<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://repost.aws" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS re:Post<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 AWS WWSO ML Frameworks team. Built with ❤️ at AWS.</div></div></div></footer></div>
</body>
</html>